<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecta Buy - Quality Products, Flexible Payments</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* CSS STYLES */

        /* --- General & Reset --- */
        :root {
            --primary-color: #0064e0;
            --secondary-color: #f4f7fc;
            --text-color: #333;
            --light-text: #666;
            --bg-color: #ffffff;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --border-color: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3 {
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        p {
            margin-bottom: 15px;
            color: var(--light-text);
        }

        section {
            padding: 60px 0;
        }

        /* --- Header --- */
        header {
            background: var(--bg-color);
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            margin: 0;
            font-size: 2.5rem;
            color: var(--primary-color);
        }
        header h1 span {
            font-weight: 300;
        }

        /* --- How It Works --- */
        #how-it-works {
            background: var(--secondary-color);
            text-align: center;
        }
        .steps {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        .step {
            flex-basis: 250px;
            padding: 20px;
            background: var(--bg-color);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .step h3 {
            font-size: 1.2rem;
            margin-top: 10px;
        }
        .step .icon {
            font-size: 2.5rem;
            color: var(--primary-color);
        }

        /* --- Product Grid --- */
        #product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .product-card {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-info h3 {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .payment-breakdown {
            background-color: var(--secondary-color);
            padding: 15px;
            border-radius: 5px;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        .payment-breakdown p {
            margin: 5px 0;
            color: var(--text-color);
        }
        .payment-breakdown span {
            font-weight: 600;
        }
        .upfront { color: var(--success-color); }
        .balance { color: var(--danger-color); }

        .order-btn {
            background-color: var(--primary-color);
            color: #fff;
            border: none;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            transition: background-color 0.3s ease;
            margin-top: auto;
        }

        .order-btn:hover {
            background-color: #004bb1;
        }

        /* --- Order & Payment Section --- */
        .order-payment-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }
        
        #order-section, #payment-info {
            flex: 1;
            min-width: 300px;
        }

        #order-form-container {
            background: var(--secondary-color);
            padding: 30px;
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-group input[readonly] {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        .submit-btn {
            width: 100%;
            background-color: var(--success-color);
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .submit-btn:hover {
            background-color: #218838;
        }
        
        #payment-info .info-box {
            background: var(--secondary-color);
            padding: 30px;
            border-radius: 8px;
            text-align: center;
        }
        
        #payment-info h3 {
            margin-bottom: 10px;
        }
        
        #payment-info p {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        #qr-code {
            margin-top: 20px;
        }

        #qr-code img {
            max-width: 200px;
            border: 5px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .pre-payment-note {
            background-color: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ffeeba;
            margin-top: 20px;
            text-align: center;
        }


        /* --- Success Message --- */
        #success-message {
            display: none;
            text-align: center;
            background: #e9f7ef;
            color: #155724;
            padding: 40px;
            border-radius: 8px;
            border: 1px solid #c3e6cb;
        }

        #success-message h2 {
            color: var(--success-color);
        }
        
        .ticket-box {
            margin-top: 20px;
            padding: 15px;
            background: #fff;
            border: 2px dashed var(--success-color);
            border-radius: 5px;
            display: inline-block;
        }
        
        .ticket-box p {
            margin: 0;
            color: var(--text-color);
        }

        #ticket-number {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 2px;
            color: var(--primary-color);
        }

        /* --- About & Managers --- */
        #about-us {
            background: var(--bg-color);
        }
        .about-content {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: center;
        }
        .about-text, .managers-section {
            flex: 1;
            min-width: 300px;
        }
        .managers-grid {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        .manager-card {
            text-align: center;
        }
        .manager-card img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-color);
            margin-bottom: 10px;
        }
        .manager-card h4 {
            margin-bottom: 5px;
            color: var(--text-color);
        }
        .manager-card p {
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* --- Suggestion Section --- */
        #suggestions {
            background-color: var(--secondary-color);
        }
        #suggestion-form {
            max-width: 600px;
            margin: 0 auto;
        }

        /* --- Admin Panel --- */
        #admin-panel {
            display: none;
            background: #2c3e50;
            color: #ecf0f1;
        }
        #admin-panel h2 {
            color: #fff;
        }
        #orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        #orders-table th, #orders-table td {
            padding: 12px;
            border: 1px solid #34495e;
            text-align: left;
        }
        #orders-table th {
            background-color: var(--primary-color);
        }
        #orders-table tr:nth-child(even) {
            background-color: #34495e;
        }
        #no-orders {
            text-align: center;
            padding: 20px;
            font-style: italic;
        }
        
        /* --- Footer --- */
        footer {
            background-color: var(--text-color);
            color: #fff;
            padding: 40px 20px;
            text-align: center;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        footer h3 {
            color: #fff;
        }

        footer p {
            color: #ccc;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        
        footer a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
        }
        footer a:hover {
            text-decoration: underline;
        }

        .chat-container {
    width: 100%;
    max-width: 500px; /* Slightly more compact for a personal chat feel */
    background: #ffffff;
    border-radius: 15px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    height: 600px; /* Fixed height to feel more like an app */
    margin-left: 200px;
}

.chat-header {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 15px 20px;
    display: flex;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    z-index: 2;
}

.assistant-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.7);
    margin-right: 15px;
}

.assistant-info h2 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 600;
}

.assistant-info p {
    margin: 0;
    font-size: 0.8rem;
    opacity: 0.9;
}

.chat-window {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message {
    padding: 10px 18px;
    border-radius: 20px;
    max-width: 80%;
    line-height: 1.5;
    font-size: 0.95rem;
    position: relative;
}

.ai-message {
    background-color: #e9eaf0;
    color: #333;
    align-self: flex-start;
    border-bottom-left-radius: 5px;
}

.user-message {
    background-color: #667eea;
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 5px;
}

.chat-input-form {
    display: flex;
    padding: 15px;
    border-top: 1px solid #e0e0e0;
    background-color: #f9f9f9;
}

#user-input {
    flex-grow: 1;
    border: 1px solid #ccc;
    border-radius: 20px;
    padding: 10px 15px;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    outline: none;
    transition: border-color 0.3s;
}

#user-input:focus {
    border-color: #667eea;
}

.chat-input-form button {
    margin-left: 10px;
    padding: 10px 20px;
    border: none;
    background-color: #667eea;
    color: white;
    border-radius: 20px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: background-color 0.3s;
}

.chat-input-form button:hover {
    background-color: #5a6ed8;
}

/* Review Box Styling */
.review-container {
    width: 100%;
    max-width: 500px;
    background: #ffffff;
    border-radius: 15px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    padding: 25px;
    margin-top: 25px;
}
.review-container h3 {
    text-align: center; color: #333; margin-top: 0; font-weight: 600;
}
.review-container p {
    text-align: center; color: #666; font-size: 0.9rem;
}
#review-form {
    display: flex; flex-direction: column; gap: 10px;
}
#review-form textarea {
    padding: 12px; border-radius: 8px; border: 1px solid #ccc; font-family: 'Poppins', sans-serif; resize: vertical;
}
#review-form button {
    padding: 12px; border-radius: 8px; border: none; background-color: #28a745; color: white; font-size: 1rem; cursor: pointer; transition: background-color 0.3s;
}
#review-form button:hover {
    background-color: #218838;
}
.thank-you {
    text-align: center; color: #28a745; font-weight: 500; display: none; margin-top: 10px;
}

    </style>
</head>
<body>

    <header>
        <h1>Lecta<span>Buy</span></h1>
    </header>

    <main>
        <section id="how-it-works">
            <div class="container">
                <h2>Buy Now, Pay Later. It's That Simple!</h2>
                <p>We are a new foreign company in Nigeria, bringing you original products with an unbeatable payment plan, We have our online stores across South East, South West, South South, North East, North West, and North Cental for easy delivery. Lecta Buy is committed to bringing you 100% original and reliable phone accessories, music & video gadgets, and electric cooking appliances. We believe in quality and affordability, which is why we've introduced a revolutionary payment plan to make premium products accessible to everyone.</p>
                <div class="steps">
                    <div class="step">
                        <div class="icon">üõí</div>
                        <h3>1. Choose Product</h3>
                        <p>Browse our wide range of quality accessories and appliances.</p>
                    </div>
                    <div class="step">
                        <div class="icon">üí≥</div>
                        <h3>2. Pay 50% Now</h3>
                        <p>Pay only half the price upfront to get your product delivered.</p>
                    </div>
                    <div class="step">
                        <div class="icon">üöö</div>
                        <h3>3. Get It Delivered</h3>
                        <p>Receive your item within 5 days, plus a free gift from us!</p>
                    </div>
                    <div class="step">
                        <div class="icon">üóìÔ∏è</div>
                        <h3>4. Pay Balance Later</h3>
                        <p>Pay the remaining 50% + a ‚Ç¶10,000 fee within 3 months.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="products">
            <div class="container">
                <h2>Our Products</h2>
                <div id="product-grid">
                    <!-- Product cards will be dynamically inserted here by JavaScript -->
                </div>
            </div>
        </section>

        <section id="order-and-payment" style="background: var(--secondary-color);">
            <div class="container order-payment-wrapper">
                 <div id="order-section">
                    <h2>Complete Your Order</h2>
                    <div id="order-form-container">
                        <form id="purchase-form">
                            <!-- Hidden fields for product data -->
                            <input type="hidden" id="productName" name="productName">
                            
                            <div class="form-group">
                                <label for="fullName">Full Name</label>
                                <input type="text" id="fullName" name="fullName" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="houseAddress">Full House Address</label>
                                <textarea id="houseAddress" name="houseAddress" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="phoneNumber">Phone Number</label>
                                <input type="tel" id="phoneNumber" name="phoneNumber" required>
                            </div>
                            <div class="form-group">
                                <label for="monthlyIncome">Your Monthly Income (‚Ç¶)</label>
                                <input type="number" id="monthlyIncome" name="monthlyIncome" placeholder="e.g., 150000" required>
                            </div>
                            <div class="form-group">
                                <label for="annualIncome">Your Annual Income (‚Ç¶)</label>
                                <input type="number" id="annualIncome" name="annualIncome" placeholder="e.g., 1800000" required>
                            </div>
                            
                            <hr style="margin: 20px 0; border: 1px solid var(--border-color);">

                            <h4>Payment Details</h4>
                            <div class="form-group">
                                <label for="amountToPay">Amount to Pay Now (50%)</label>
                                <input type="text" id="amountToPay" name="amountToPay" readonly required>
                            </div>
                             <div class="form-group">
                                <label for="remainingBalance">Remaining Balance (due in 3 months)</label>
                                <input type="text" id="remainingBalance" name="remainingBalance" readonly required>
                            </div>
                             <div class="form-group">
                                <label for="paybackPeriod">Payback Period</label>
                                <input type="text" id="paybackPeriod" name="paybackPeriod" value="3 Months" readonly>
                            </div>

                            <button type="submit" class="submit-btn">Submit Order</button>
                        </form>
                        <div id="success-message">
                            <h2>‚úÖ Thank You!</h2>
                            <p>Thanks for purchasing our product. You will receive your item in 5 days time, along with a free gift!</p>
                            <div class="ticket-box">
                                <p><strong>Your payment is not complete until a 50% deposit is made.</strong></p>
                                <p>Kindly use this Ticket ID as your transfer narration/description:</p>
                                <p id="ticket-number"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="payment-info">
                    <h2>Make Payment</h2>
                    <div class="info-box">
                        <h3>Kindly Transfer Here</h3>
                        <p>Bank: Access Bank PLC</p>
                        <p>Account Name: LECTA BUY NIGERIA LTD</p>
                        <p>Account Number: 1234567890</p>
                        
                        <div id="qr-code">
                             <p><small>Scan QR code for easy transfer</small></p>
                            <img id="qr-code-img" src="" alt="QR Code for Bank Transfer">
                        </div>

                        <div class="pre-payment-note">
                            <strong>Important:</strong> Your request will not be processed until the 50% upfront payment is confirmed. Please use your generated Ticket ID as the transfer narration.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about-us">
            <div class="container about-content">
                <div class="about-text">
                    <h2>Reliability & Originality You Can Trust</h2>
                    <p>Lecta Buy is a premier international company that has recently launched in Nigeria. Our mission is to provide every Nigerian with access to high-quality, original electronic products and home appliances without financial strain.</p>
                    <p>We source our products directly from globally recognized manufacturers, ensuring every item is 100% genuine. Our unique payment model is designed to empower you, making premium products affordable and accessible. We believe in quality, trust, and exceptional customer service.</p>
                </div>
                <div class="managers-section">
                     <h3>Meet Our Leadership</h3>
                     <div class="managers-grid">
                         <div class="manager-card">
                            <img src="https://i.pravatar.cc/150?img=68" alt="Manager 1">
                             <h4>Mr. Steve Bolly</h4>
                             <p>CEO & Founder</p>
                             <p>With 20 years in global retail, Steve's vision is to empower Nigerian homes with top-tier technology.</p>
                         </div>
                         <div class="manager-card">
                             <img src="https://i.pravatar.cc/150?img=49" alt="Manager 2">
                             <h4>Mrs. Adeola Bello</h4>
                             <p>Head of Operations (NG)</p>
                             <p>Rose ensures a seamless and trustworthy customer experience from purchase to delivery.</p>
                         </div>
                     </div>
                </div>
            </div>
        </section>

        <section id="suggestions">
            <div class="container">
                <h2 style="text-align: center;">Have a Suggestion?</h2>
                <p style="text-align: center;">Your feedback helps us improve. This form is for suggestions only and is seen internally by Lecta Buy.</p>
                <form id="suggestion-form">
                    <div class="form-group">
                        <label for="suggestionText">Your Suggestion</label>
                        <textarea id="suggestionText" name="suggestionText" rows="4" required></textarea>
                    </div>
                     <button type="submit" class="submit-btn" style="background-color: var(--primary-color);">Send Suggestion</button>
                </form>
            </div>
        </section>
        
        <section id="admin-panel">
            <div class="container">
                <h2>Admin Panel - Submitted Orders</h2>
                <div style="overflow-x: auto;">
                   <table id="orders-table">
                        <thead>
                            <tr>
                                <th>Order Date</th>
                                <th>Ticket ID</th>
                                <th>Full Name</th>
                                <th>Phone</th>
                                <th>Address</th>
                                <th>Product</th>
                                <th>Upfront Pay</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody id="orders-tbody">
                            <!-- Orders will be injected here -->
                        </tbody>
                    </table>
                </div>
                <p id="no-orders" style="display: none;">No orders have been submitted yet.</p>
            </div>
        </section>

        <div class="chat-container">
        <!-- Assistant Header -->
        <div class="chat-header">
            <!-- IMPORTANT: Replace this src with your desired image URL -->
            <img src="https://i.pravatar.cc/150?img=68" alt="Aura AI Assistant" class="assistant-avatar">
            <div class="assistant-info">
                <h2>Steve Bolly</h2>
                <p>Online | Ready to help</p>
            </div>
        </div>

        <!-- Chat Window where messages appear -->
        <div class="chat-window" id="chat-window">
            <!-- Messages will be dynamically added here -->
        </div>

        <!-- User Input Form -->
        <form class="chat-input-form" id="chat-form">
            <input type="text" id="user-input" placeholder="Say something..." autocomplete="off">
            <button type="submit">Send</button>
        </form>
    </div>
    </main>

    

    <footer>
        <div class="footer-content">
            <h3>Lecta<span>Buy</span></h3>
            <p><strong>Customer Service Hotlines:</strong> +234 801 234 5678 | +234 901 234 5679</p>
            <p><strong>Email:</strong> support@lectabuy.com.ng</p>
            <p>Please note that Lecta Buy is strictly an online market. We do not have physical stores.</p>
            <p>The remaining 50% balance payment should be paid to the LectaBuy account details provided on the website within 3 months of your purchase.</p>
            <p><a href="#" id="admin-toggle">View Admin Panel</a></p>
            <p>¬© 2025 Lecta Buy. All Rights Reserved.</p>
        </div>
    </footer>


    <script>
        // JAVASCRIPT LOGIC

        document.addEventListener('DOMContentLoaded', () => {

            // --- "ADMIN EDITABLE" PRODUCT DATABASE ---
            // To add/edit/remove products, just modify this array.
            const products = [
                { name: 'Oraimo FreePods 4', price: 25000, type: 'phone', image: 'image/oraimo.jpg' },
                { name: 'Anker Soundcore P20i', price: 22000, type: 'phone', image: 'image/anker.jpg' },
                { name: 'JBL Tune 510BT Headphones', price: 45000, type: 'music', image: 'image/jbl.jpg' },
                { name: 'Binatone Electric Kettle', price: 18000, type: 'cooking', image: 'image/binatone.jpg' },
                { name: 'Samsung 25W Fast Charger', price: 15000, type: 'phone', image: 'image/charger.jpg' },
                { name: 'Scanfrost Air Fryer 5.5L', price: 75000, type: 'cooking', image: 'image/airfry.jpg' },
                { name: 'Logitech C920 Webcam', price: 60000, type: 'video', image: 'https://resource.logitech.com/w_800,c_lfill,ar_1:1,q_auto,f_auto,dpr_1.0/d_transparent.gif/content/dam/logitech/en/products/webcams/c920s/gallery/c920s-gallery-1.png?v=1' },
                { name: 'Portable Power Bank 20000mAh', price: 28000, type: 'phone', image: 'image/powerbank.jpg' },
                { name: 'Saisho Electric Blender', price: 22500, type: 'cooking', image: 'image/saisho.jpg' },
                { name: 'Rode VideoMic Go', price: 85000, type: 'video', image: 'image/rode.jpg' },
                 { name: 'woffer', price: 120000, type: 'music', image: 'image/woffer.jpg' },
                  { name: 'Sneakers', price: 30000, type: 'shoe', image: 'image/sneaker1.jpg' },
                 { name: 'Sneakers', price: 30000, type: 'shoe', image: 'image/sneaker2.jpg' },
                  { name: 'Sneakers', price: 30000, type: 'shoe', image: 'image/sneaker3.jpg' },
                  { name: 'Shirt', price: 15000, type: 'shoe', image: 'image/shirt1.jpg' },
            ];

            // --- DOM ELEMENTS ---
            const productGrid = document.getElementById('product-grid');
            const purchaseForm = document.getElementById('purchase-form');
            const orderFormContainer = document.getElementById('order-form-container');
            const successMessage = document.getElementById('success-message');
            const ticketNumberEl = document.getElementById('ticket-number');
            const adminToggle = document.getElementById('admin-toggle');
            const adminPanel = document.getElementById('admin-panel');
            const ordersTbody = document.getElementById('orders-tbody');
            const noOrdersEl = document.getElementById('no-orders');
            const qrCodeImg = document.getElementById('qr-code-img');
            const suggestionForm = document.getElementById('suggestion-form');


            // --- FUNCTIONS ---

            // Format number as Nigerian Naira
            const formatNaira = (amount) => {
                return new Intl.NumberFormat('en-NG', { style: 'currency', currency: 'NGN' }).format(amount);
            };

            // Render all products on the page
            const renderProducts = () => {
                productGrid.innerHTML = '';
                products.forEach(product => {
                    const upfrontPayment = product.price * 0.5;
                    const remainingBalance = (product.price * 0.5) + 10000;

                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" loading="lazy">
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <p class="product-price">${formatNaira(product.price)}</p>
                            <div class="payment-breakdown">
                                <p class="upfront">Pay Now (50%): <span>${formatNaira(upfrontPayment)}</span></p>
                                <p class="balance">Balance in 3 Months: <span>${formatNaira(remainingBalance)}</span></p>
                            </div>
                            <button class="order-btn" 
                                data-name="${product.name}" 
                                data-upfront="${upfrontPayment}"
                                data-balance="${remainingBalance}">Order Now</button>
                        </div>
                    `;
                    productGrid.appendChild(productCard);
                });
            };

            // Handle "Order Now" button clicks
            const handleOrderClick = (e) => {
                if (e.target.classList.contains('order-btn')) {
                    const { name, upfront, balance } = e.target.dataset;
                    
                    // Populate the form
                    document.getElementById('productName').value = name;
                    document.getElementById('amountToPay').value = formatNaira(parseFloat(upfront));
                    document.getElementById('remainingBalance').value = formatNaira(parseFloat(balance));

                    // Show form and scroll to it
                    purchaseForm.style.display = 'block';
                    successMessage.style.display = 'none';
                    document.getElementById('order-section').scrollIntoView({ behavior: 'smooth' });
                }
            };

            // Generate a unique ticket ID
            const generateTicketID = () => {
                return 'LB-' + Math.random().toString(36).substr(2, 8).toUpperCase();
            };

            // Handle form submission
            const handleFormSubmit = (e) => {
                e.preventDefault();

                const ticketID = generateTicketID();
                const formData = new FormData(purchaseForm);
                const orderData = {
                    ticketId: ticketID,
                    date: new Date().toLocaleString(),
                    fullName: formData.get('fullName'),
                    email: formData.get('email'),
                    phone: formData.get('phoneNumber'),
                    address: formData.get('houseAddress'),
                    product: formData.get('productName'),
                    upfrontPayment: formData.get('amountToPay'),
                    remainingBalance: formData.get('remainingBalance'),
                };

                // Save order to localStorage (simulating a database)
                saveOrder(orderData);
                
                // Simulate sending an email
                console.log(`--- SIMULATING EMAIL ---
                To: ${orderData.email}
                Subject: Your Lecta Buy Order Confirmation
                
                Dear ${orderData.fullName},
                
                Thank you for your patronage! Your order for the ${orderData.product} has been received.
                Your Ticket ID is ${orderData.ticketId}. Please use this as the narration for your payment.
                
                We will process your order for delivery as soon as we confirm your 50% upfront payment of ${orderData.upfrontPayment}.
                
                Thanks,
                The Lecta Buy Team`);

                // Show success message
                ticketNumberEl.textContent = ticketID;
                purchaseForm.style.display = 'none';
                successMessage.style.display = 'block';
                
                purchaseForm.reset();
                // Reset hidden fields
                document.getElementById('amountToPay').value = '';
                document.getElementById('remainingBalance').value = '';
            };
            
            // Save order to browser's local storage
            const saveOrder = (order) => {
                const orders = JSON.parse(localStorage.getItem('lectaBuyOrders')) || [];
                orders.push(order);
                localStorage.setItem('lectaBuyOrders', JSON.stringify(orders));
                renderAdminPanel(); // Refresh admin panel
            };

            // Render orders in the admin panel
            const renderAdminPanel = () => {
                const orders = JSON.parse(localStorage.getItem('lectaBuyOrders')) || [];
                if (orders.length === 0) {
                    noOrdersEl.style.display = 'block';
                    ordersTbody.innerHTML = '';
                    return;
                }

                noOrdersEl.style.display = 'none';
                ordersTbody.innerHTML = '';
                orders.forEach(order => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${order.date}</td>
                        <td>${order.ticketId}</td>
                        <td>${order.fullName}</td>
                        <td>${order.phone}</td>
                        <td>${order.address}</td>
                        <td>${order.product}</td>
                        <td>${order.upfrontPayment}</td>
                        <td>${order.remainingBalance}</td>
                    `;
                    ordersTbody.appendChild(row);
                });
            };

            // Toggle admin panel visibility
            const toggleAdminPanel = (e) => {
                e.preventDefault();
                const panelIsVisible = adminPanel.style.display === 'block';
                adminPanel.style.display = panelIsVisible ? 'none' : 'block';
                if (!panelIsVisible) {
                    adminPanel.scrollIntoView({ behavior: 'smooth' });
                }
            };
            
            // Generate QR Code for payment
            const generateQrCode = () => {
                const bankDetails = `Bank: Access Bank PLC\nAccount Name: LECTA BUY NIGERIA LTD\nAccount Number: 1234567890`;
                const encodedDetails = encodeURIComponent(bankDetails);
                qrCodeImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodedDetails}`;
                qrCodeImg.alt = bankDetails;
            };

            // Handle suggestion form submission
            const handleSuggestionSubmit = (e) => {
                e.preventDefault();
                const suggestionText = document.getElementById('suggestionText').value;
                // In a real app, this would be sent to a server.
                // For now, we'll just log it and show an alert.
                console.log("--- NEW SUGGESTION RECEIVED ---");
                console.log(suggestionText);
                alert("Thank you for your suggestion! We value your feedback.");
                suggestionForm.reset();
            };

            // --- INITIALIZATION & EVENT LISTENERS ---
            renderProducts();
            renderAdminPanel();
            generateQrCode();
            
            productGrid.addEventListener('click', handleOrderClick);
            purchaseForm.addEventListener('submit', handleFormSubmit);
            adminToggle.addEventListener('click', toggleAdminPanel);
            suggestionForm.addEventListener('submit', handleSuggestionSubmit);

        });

        const qaDatabase = [
        {
            keywords: ['hello', 'hi', 'hey', 'greetings'],
            answer: 'Hello there! I Steve Bolly, your virtual assistant. How can I help you today?'
        },
        {
            keywords: ['services', 'offer', 'what you do'],
            answer: 'We provide a suite of services including Selling of products online, Delivery services across Nigeria, And products consultation. Is there a specific area you are interested in?'
        },
        {
            keywords: ['pricing', 'cost', 'quote', 'how much'],
            answer: 'For a detailed price quote, Each product has a price tag on it which changes as market price changes. Our solutions are tailored to your needs, so pricing can vary.'
        },
        {
            keywords: ['hours', 'open', 'business hours', 'close'],
            answer: 'Our support team is available 24/7 online. Our online sales and administration is 24hrs, everyday.'
        },
        {
            keywords: ['contact', 'support', 'help', 'phone', 'email'],
            answer: 'You can contact our support team via email at lectabuy@gmail. We are here to help!'
        },
        {
            keywords: ['who are you', 'your name', 'Steve Bolly'],
            answer: 'I am Steve Bolly, an AI assistant created to help you navigate this site and answer your questions.'
        },
        {
            keywords: ['bye', 'goodbye', 'see you'],
            answer: 'Goodbye! Have a great day. Feel free to reach out if you need anything else.'
        },
        {
            keywords: ['thanks', 'thank you'],
            answer: "You're welcome! Is there anything else I can assist you with?"
        },
        {
            keywords: ['joke', 'funny'],
            answer: "Why don't scientists trust atoms? Because they make up everything!"
        },
        {
            keywords: ['delay', 'delivery', 'goods'],
            answer: "Please be patient, your goods will be delivered to you shortly, sorry for the inconvienences."
        },
         {
            keywords: ['geniue', 'products',],
            answer: "Our products are very original and reliable with 1year warranty."
        },
        {
            keywords: ['about', 'company'],
            answer: "We are a premier foreign company now established in Nigeria, We have our online stores across South East, South West, South South, North East, North West, and North Cental for easy delivery. Lecta Buy is committed to bringing you 100% original and reliable phone accessories, music & video gadgets, and electric cooking appliances. We believe in quality and affordability, which is why we've introduced a revolutionary payment plan to make premium products accessible to everyone."
        }
    ];

    // This is the answer the AI gives if it doesn't understand the user's message.
    const defaultAnswer = "I'm sorry, I'm not sure how to answer that. Could you try rephrasing your question? You can also ask about our 'services', 'pricing', 'products','delivery',or how to 'contact' us.";

    // ===================================================================================
    //  END OF EASY EDIT SECTION
    //  (No need to edit below this line for basic functionality)
    // ===================================================================================

    const chatWindow = document.getElementById('chat-window');
    const chatForm = document.getElementById('chat-form');
    const userInput = document.getElementById('user-input');
    const reviewForm = document.getElementById('review-form');
    const thankYouMessage = document.getElementById('thank-you-message');

    // Function to display a message in the chat window
    const displayMessage = (message, sender) => {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', `${sender}-message`);
        messageElement.textContent = message;
        chatWindow.appendChild(messageElement);
        chatWindow.scrollTop = chatWindow.scrollHeight; // Auto-scroll
    };

    // Function to find an answer based on keywords
    const findAnswer = (userMessage) => {
        const message = userMessage.toLowerCase();
        for (const qa of qaDatabase) {
            // Check if any keyword in the array is present in the user's message
            if (qa.keywords.some(keyword => message.includes(keyword))) {
                return qa.answer;
            }
        }
        return defaultAnswer;
    };

    // Handle chat form submission
    chatForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const userMessage = userInput.value.trim();

        if (userMessage) {
            displayMessage(userMessage, 'user');
            userInput.value = '';

            // AI thinks for a moment, then responds
            setTimeout(() => {
                const aiResponse = findAnswer(userMessage);
                displayMessage(aiResponse, 'ai');
            }, 1200); // 1.2-second delay for a more natural feel
        }
    });

    // Handle review form submission
    reviewForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const reviewText = document.getElementById('review-text').value;
        if (reviewText.trim() !== "") {
            console.log('Review Submitted:', reviewText); // In real life, send this to a server
            reviewForm.style.display = 'none';
            thankYouMessage.style.display = 'block';
        }
    });
    </script>
</body>
</html>
